{# Add rst-badge after rst-versions for small badge style. #}
<div class="rst-versions" role="note" aria-label="versions">
  <div class="rst-other-versions--no-inject">{# RTD hosted instance injects stuff into .rst-other-versions (using class name...), hence the need for a rename #}
    <dl class="Grid rst-versions--container">
      <dt class="Grid-cell u-size1of4 u-inline u-md-hidden rst-versions--terms u-padding-left-s">
        <span>{{ t.downloads }}</span>
      </dt>
      {% if READTHEDOCS %}
        {% for type, url in downloads %}
        <dd class="Grid-cell u-size1of4 u-md-size1of3 rst-versions--terms u-textCenter u-padding-left-xs u-padding-right-xs">
          <a class="Button Button--default Button--version u-borderRadius-m u-sizeFull u-color-darkGray" href="{{ url }}">{{ type }}</a>
        </dd>
        {% endfor %}
      {% else %}
        {# test content #}
        <dd class="Grid-cell u-size1of4 u-md-size1of3 rst-versions--terms u-textCenter u-padding-left-xs u-padding-right-xs">
          <a class="Button Button--default Button--version u-borderRadius-m u-sizeFull u-color-darkGray" href="#">source 1</a>
        </dd>
        <dd class="Grid-cell u-size1of4 u-md-size1of3 rst-versions--terms u-textCenter u-padding-left-xs u-padding-right-xs">
          <a class="Button Button--default Button--version u-borderRadius-m u-sizeFull u-color-darkGray" href="#">source 2</a>
        </dd>
        <dd class="Grid-cell u-size1of4 u-md-size1of3 rst-versions--terms u-textCenter u-padding-left-xs u-padding-right-xs">
          <a class="Button Button--default Button--version u-borderRadius-m u-sizeFull u-color-darkGray" href="#">source 3</a>
        </dd>
      {% endif %}
    </dl>
    {#
    TODO: Define dropdown behaviour
    <dl class="Grid rst-versions--container">
      <dt class="Grid-cell u-size1of4 u-md-hidden u-inline rst-versions--terms u-padding-left-s">
        <span>{{ t.versions }}</span>
      </dt>
      {% if READTHEDOCS %}
        COMMENT: -- here add versions showing "stable", "latest" and a dropdown maybe? --
        {% for slug, url in versions %}
          {%- if slug == 'latest' or slug == 'stable' %}
        <dd class="Grid-cell u-size1of4 u-md-size1of3 rst-versions--terms u-textCenter u-padding-left-xs u-padding-right-xs">
          <a href="{{ url }}" class="u-color-white">{{ slug }}</a>
        </dd>
          {%- endif %}
        {% endfor %}
        {% if versions|length > 2 %}
        <dd class="Grid-cell u-size1of4 u-md-size1of3 rst-versions--terms u-textCenter u-padding-left-xs u-padding-right-xs">
          <span class="version-dropdown">
            <select class="version-list Button Button--default Button--version u-borderRadius-m" id="version-list">
              {% for slug, url in versions %}
                {%- if slug != 'latest' and slug != 'stable' %}
              <option value="{{ url }}">{{ slug }}</option>
              {%- endif %}
            {% endfor %}
            </select>
          </span>
        </dd>
        {% endif %}
      {% else %}
        COMMENT: -- test content --
        {%- set nav_version = version %}
        <dd class="Grid-cell u-size1of4 u-md-size1of3 rst-versions--terms u-textCenter u-padding-left-xs u-padding-right-xs">
          <a href="#" class="u-color-white">test 1</a>
        </dd>
        <dd class="Grid-cell u-size1of4 u-md-size1of3 rst-versions--terms u-textCenter u-padding-left-xs u-padding-right-xs">
          <a href="#" class="u-color-white">test 2</a>
        </dd>
        <dd class="Grid-cell u-size1of4 u-md-size1of3 rst-versions--terms u-textCenter u-padding-left-xs u-padding-right-xs">
          <select class="version-list Button Button--default Button--version u-borderRadius-m u-sizeFull u-color-darkGray" id="version-list">
            <option value=''>{{ nav_version }}</option>
            {% for key, val in theme_versions.items() %}
            {% if key != nav_version %}
            <option value="{{ val }}">{{ key }}</option>
            {% endif %}
            {% endfor %}
            {% for slug, url in versions %}
            <option value="{{ url }}">{{ slug }}</option>
            {% endfor %}
            <option value="/en/stable/">test</option>
          </select>
        </dd>
      {% endif %}
    </dl>
    #}
  </div>
</div>
